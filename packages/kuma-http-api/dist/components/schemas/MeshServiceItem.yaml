type: object
properties:
  type:
    description: the type of the resource
    type: string
    enum:
      - MeshService
  mesh:
    description: Mesh is the name of the Kuma mesh this resource belongs to. It may be omitted for cluster-scoped resources.
    type: string
    default: default
  kri:
    description: A unique identifier for this resource instance used by internal tooling and integrations. Typically derived from resource attributes and may be used for cross-references or indexing
    type: string
    example: kri_msvc_default_zone-east_kuma-demo_myresource1_
    readOnly: true
  name:
    description: Name of the Kuma resource
    type: string
  labels:
    description: The labels to help identity resources
    type: object
    additionalProperties:
      type: string
  spec:
    description: Spec is the specification of the Kuma MeshService resource.
    type: object
    properties:
      identities:
        type: array
        items:
          properties:
            type:
              type: string
              enum:
                - ServiceTag
                - SpiffeID
            value:
              type: string
          required:
            - type
            - value
          type: object
      ports:
        type: array
        items:
          properties:
            appProtocol:
              description: Protocol identifies a protocol supported by a service.
              type: string
              default: tcp
            name:
              type: string
            port:
              type: integer
              format: int32
            targetPort:
              anyOf:
                - type: integer
                - type: string
              x-kubernetes-int-or-string: true
          required:
            - port
          type: object
        x-kubernetes-list-map-keys:
          - port
          - appProtocol
        x-kubernetes-list-type: map
      selector:
        type: object
        properties:
          dataplaneRef:
            type: object
            properties:
              name:
                type: string
          dataplaneTags:
            type: object
            additionalProperties:
              type: string
      state:
        description: |-
          State of MeshService. Available if there is at least one healthy endpoint. Otherwise, Unavailable.
          It's used for cross zone communication to check if we should send traffic to it, when MeshService is aggregated into MeshMultiZoneService.
        type: string
        default: Unavailable
        enum:
          - Available
          - Unavailable
  creationTime:
    description: Time at which the resource was created
    type: string
    format: date-time
    example: '0001-01-01T00:00:00Z'
    readOnly: true
  modificationTime:
    description: Time at which the resource was updated
    type: string
    format: date-time
    example: '0001-01-01T00:00:00Z'
    readOnly: true
  status:
    description: Status is the current status of the Kuma MeshService resource.
    type: object
    properties:
      addresses:
        type: array
        items:
          properties:
            hostname:
              type: string
            hostnameGeneratorRef:
              type: object
              properties:
                coreName:
                  type: string
              required:
                - coreName
            origin:
              type: string
          type: object
      dataplaneProxies:
        description: Data plane proxies statistics selected by this MeshService.
        type: object
        properties:
          connected:
            description: Number of data plane proxies connected to the zone control plane
            type: integer
          healthy:
            description: Number of data plane proxies with all healthy inbounds selected by this MeshService.
            type: integer
          total:
            description: Total number of data plane proxies.
            type: integer
      hostnameGenerators:
        type: array
        items:
          properties:
            conditions:
              description: Conditions is an array of hostname generator conditions.
              type: array
              items:
                properties:
                  message:
                    description: |-
                      message is a human readable message indicating details about the transition.
                      This may be an empty string.
                    type: string
                    maxLength: 32768
                  reason:
                    description: |-
                      reason contains a programmatic identifier indicating the reason for the condition's last transition.
                      Producers of specific condition types may define expected values and meanings for this field,
                      and whether the values are considered a guaranteed API.
                      The value should be a CamelCase string.
                      This field may not be empty.
                    type: string
                    maxLength: 1024
                    minLength: 1
                    pattern: '^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$'
                  status:
                    description: 'status of the condition, one of True, False, Unknown.'
                    type: string
                    enum:
                      - 'True'
                      - 'False'
                      - Unknown
                  type:
                    description: type of condition in CamelCase or in foo.example.com/CamelCase.
                    type: string
                    maxLength: 316
                    pattern: '^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$'
                required:
                  - message
                  - reason
                  - status
                  - type
                type: object
              x-kubernetes-list-map-keys:
                - type
              x-kubernetes-list-type: map
            hostnameGeneratorRef:
              type: object
              properties:
                coreName:
                  type: string
              required:
                - coreName
          required:
            - hostnameGeneratorRef
          type: object
      tls:
        type: object
        properties:
          status:
            type: string
            enum:
              - Ready
              - NotReady
      vips:
        type: array
        items:
          properties:
            ip:
              type: string
          type: object
    readOnly: true
required:
  - type
  - name
  - spec
